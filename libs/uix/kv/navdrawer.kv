# -*- coding: utf-8 -*-
#
# This file created with KivyCreatorProject
# <https://github.com/HeaTTheatR/KivyCreatorProgect
#
# Copyright © 2017 Easy
#
# For suggestions and questions:
# <kivydevelopment@gmail.com>
# 
# LICENSE: MIT

#:import os os
#:import ModifiedNavigationDrawer libs.uix.navigationdrawer.ModifiedNavigationDrawer
#:import SingleIconItem libs.uix.lists.SingleIconItem
#:import F kivy.factory.Factory


<Custom@BoxLayout>:
    orientation: 'vertical'
    MDRaisedButton:
        text: 'account 1'
    MDRaisedButton:
        text: 'account 2'


<LabelSection@Label>:
    markup: True
    bold: True
    font_size: '16sp'
    color: 0, 0, 0, 1
    size_hint_y: None
    height: dp(45)

<NavDrawer>:
    _app: app
    on_state: root.add_name_previous_screen()
    side_panel_width:
        (self.side_panel_width * 80) // 100 \
        if self.side_panel_width >= app.window.width \
        else self.side_panel_width

    ModifiedNavigationDrawer:
        id: nav_drawer

        BoxLayout:
            id: box_avatar
            orientation: 'vertical'
            padding: dp(10)
            spacing: dp(10)
            size_hint_y: .5

            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: 'data/images/navigation_bg.png'

            Image:
                id: navigation_image
                size_hint: None, None
                size: dp((box_avatar.height * 30) // 100), dp((box_avatar.height * 30) // 100)
                source: 'data/images/icon.png'

            Label:
                id: user_name
                size_hint: None, None
                height: dp(20)
                width: self.texture_size[0]
                halign: 'left'
                text: 'HODL'
                markup: True
                font_size: '14sp'
            MDRaisedButton:
                text:'accounts'
                on_release: (root.ids.con.__setattr__('size_hint', [1, 0.01]), root.ids.con.remove_widget(root.ids.con.children[0])) if len(root.ids.con.children) else (root.ids.con.add_widget(F.Custom()), root.ids.con.__setattr__('size_hint', [1, 0.2]))
        BoxLayout:
            size_hint:1,0.01
            id: con
        ScrollView:
            id: scroll
            size_hint_y: .7

            BoxLayout:
                orientation:'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(10)

                LabelSection:
                    text:  app.translation._('Меню:')
                    color:(0,0,0,1)  if app.theme_cls.theme_style == 'Light' else (1,1,1,1)
                SingleIconItem:
                    icon:'account'
                    text:'Profile'
                    events_callback: app.show_profile
                SingleIconItem:
                    icon:'home'
                    text:'Home screen'
                    events_callback: app.show_main
                SingleIconItem:
                    icon:'coin'
                    text: 'Trade'
                    events_callback: app.show_trade
                SingleIconItem:
                    icon: 'web'
                    text: 'Network'
                    events_callback: app.show_network
                SingleIconItem:
                    icon: 'settings'
                    text: app.translation._('Settings')
                    events_callback: app.show_set

                SingleIconItem:
                    icon:'account-multiple'
                    text:app.translation._('Contacts')
                    events_callback: app.show_contacts

                SingleIconItem:
                    icon: 'web'
                    text: app.translation._('Язык')
                    events_callback: app.select_locale

                SingleIconItem:
                    icon: 'information'
                    text: 'About'
                    events_callback: app.show_about
                    
                SingleIconItem:
                    icon:'paperclip'
                    text: 'License'
                    events_callback: app.show_license
